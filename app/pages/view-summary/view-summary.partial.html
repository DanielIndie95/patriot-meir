<div>
  <md-expansion-panel-group md-component-id="panelGroup" multiple>
    <md-expansion-panel md-component-id="summary-panel">
      <md-expansion-panel-collapsed>
        <div class="md-title">{{vm.summary.header}}</div>
        <star-rating rating="vm.summary.rating"></star-rating>
      </md-expansion-panel-collapsed>
      <md-expansion-panel-expanded ng-class="{'hide-selected-text': vm.hideContent}">
        <md-expansion-panel-header ng-click="$panel.collapse()">
          <div class="md-title">{{vm.summary.header}}</div>
        </md-expansion-panel-header>
        <md-expansion-panel-content>
          <h4>Content</h4>
          <p>Put content in here</p>
        </md-expansion-panel-content>

        <md-expansion-panel-footer>
          <md-button ng-click="vm.hideContent = !vm.hideContent">{{vm.hideContent ? "Dont hide selection" : 'Hide selection'}}</md-button>
          <div flex></div>
          <md-button class="md-warn" ng-click="$panel.collapse()">Collapse</md-button>
        </md-expansion-panel-footer>
      </md-expansion-panel-expanded>
    </md-expansion-panel>

    <md-expansion-panel md-component-id="questions-panel">
      <md-expansion-panel-collapsed>
        <div class="md-title">Questions</div>
        <div class="md-summary">Summary questions : {{vm.questions.length}}</div>
        <md-expansion-panel-icon></md-expansion-panel-icon>
      </md-expansion-panel-collapsed>
      <md-expansion-panel-expanded>
        <md-expansion-panel-header ng-click="$panel.collapse()">
          <div class="md-title">Questions</div>
          <div class="md-summary">Summary questions: {{vm.questions.length}}</div>
        </md-expansion-panel-header>
        <md-expansion-panel-content>
          <md-list>
            <md-list-item ng-repeat="question in vm.questions">
              <view-summary-question style="width: 100%" question="question"></view-summary-question>
            </md-list-item>
          </md-list>
        </md-expansion-panel-content>
        <md-expansion-panel-footer>
          <div flex></div>
          <md-button class="md-warn" ng-click="$panel.collapse()">Collapse</md-button>
        </md-expansion-panel-footer>
      </md-expansion-panel-expanded>
    </md-expansion-panel>
    <md-expansion-panel md-component-id="comments-panel">
      <md-expansion-panel-collapsed>
        <div class="md-title">Comments</div>
        <div class="md-summary">Summary comments : {{vm.comments.length}}</div>
        <md-expansion-panel-icon></md-expansion-panel-icon>
      </md-expansion-panel-collapsed>
      <md-expansion-panel-expanded>
        <md-expansion-panel-header ng-click="$panel.collapse()">
          <div class="md-title">Comments</div>
          <div class="md-summary">Summary comments: {{vm.comments.length}}</div>
        </md-expansion-panel-header>
        <md-expansion-panel-content>
          <md-list>
            <md-list-item ng-repeat="comment in vm.comments">
              <img ng-src={{'https://s3.amazonaws.com/uifaces/faces/twitter/'+comment.user.id+'/128.jpg'}}
                   class="md-avatar" alt="{{comment.user.name}}"/>
              <div class="md-list-item-text" layout="column">
                <h3>{{ comment.user.name }}</h3>
                <p>{{ comment.text }}</p>
              </div>
              <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
          </md-list>
        </md-expansion-panel-content>
        <md-expansion-panel-footer>
          <div flex></div>
          <md-button class="md-warn" ng-click="$panel.collapse()">Collapse</md-button>
        </md-expansion-panel-footer>
      </md-expansion-panel-expanded>
    </md-expansion-panel>
  </md-expansion-panel-group>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});

  </script>
</div>

